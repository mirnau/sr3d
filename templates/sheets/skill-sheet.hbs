<form class="{{cssClass}}" autocomplete="off">
    <!-- Header Section -->
    <header class="sheet-header">
        <img src="{{item.img}}" data-edit="img" title="{{item.name}}" height="64" width="64" />
        <h1>
            <input name="name" type="text" value="{{item.name}}" placeholder="{{localize 'Name'}}" />
        </h1>
    </header>

    <!-- Content Section -->
    <div class="sheet-content">
        <!-- Active Skill Section -->
        {{#if (eq system.skillType 'activeSkill')}}
        <fieldset data-skill-type="activeSkill">
            <legend>{{localize "sr3d.item.skill.activeSkill"}}</legend>
            <div class="specialization-value">
                <label>{{system.skill.activeSkill.value}}</label>
                <a class="buy-skill" title="{{localize "sr3d.item.skill.purchaseSkills"}}"><i
                        class="fas fa-shopping-cart"></i></a>
                <a class="undo" title="Undo"><i class="fas fa-undo-alt"></i></a>
            </div>
            <fieldset>
                <legend>{{localize "sr3d.item.skill.linkedAttribute"}}</legend>
                <select name="system.skill.activeSkill.linkedAttribute">
                    {{#each attributes}}
                    <option value="{{this}}" {{#if (eq this
                        ../system.skill.activeSkill.linkedAttribute)}}selected{{/if}}>
                        {{this}}
                    </option>
                    {{/each}}
                </select>
            </fieldset>
            <!-- Specializations Section -->
            <fieldset>
                <legend>{{localize "sr3d.item.skill.specializations"}}</legend>
                <div class="specialization-add">
                    <input type="text" placeholder="{{localize "sr3d.item.skill.placeholder"}}"
                        class="specialization-name" />
                    <a class="add-specialization" title="{{localize 'Add Specialization'}}">
                        <i class="fas fa-square-plus"></i>
                    </a>
                </div>
                <hr />
                <div class="specializations-list">
                    {{#each system.skill.activeSkill.specializations}}

                    <div class="specialization-container" data-index="{{@index}}">
                        <input type="text" name="system.skill.activeSkill.specializations.[{{@index}}].name"
                            value="{{this.name}}" />
                        <label for="value-{{@index}}" class="specialization-value-label">Value:</label>
                        <input type="number" id="value-{{@index}}"
                            name="system.skill.activeSkill.specializations.[{{@index}}].value" value="{{this.value}}"
                            readonly />

                        <a class="delete-specialization" title="Delete Specialization">
                            <i class="fas fa-trash-alt"></i>
                        </a>
                        <a class="use-specialization" title="Use Specialization">
                            <i class="fas fa-shopping-cart"></i>
                        </a>
                        <a class="reset-specialization" title="Reset Specialization">
                            <i class="fas fa-undo-alt"></i>
                        </a>
                    </div>
                    {{else}}
                    <p>No specializations available.</p>
                    {{/each}}
                </div>
            </fieldset>
        </fieldset>
        {{/if}}
        <!-- Knowledge Skill Section -->
        {{#if (eq system.skillType 'knowledgeSkill')}}
        <fieldset data-skill-type="knowledgeSkill">
            <legend>{{localize "sr3d.item.skill.knowledgeSkill"}}</legend>
            <label>
                <input type="number" name="system.skill.knowledgeSkill.value"
                    value="{{system.skill.knowledgeSkill.value}}" />
            </label>
            <label>
                {{localize "sr3d.item.skill.linkedAttribute"}}
                <select name="system.skill.knowledgeSkill.linkedAttribute">
                    {{#each attributes}}
                    <option value="{{this}}" {{#if (eq this
                        ../system.skill.knowledgeSkill.linkedAttribute)}}selected{{/if}}>
                        {{this}}
                    </option>
                    {{/each}}
                </select>
            </label>

            <!-- Specializations Section -->
            <fieldset>
                <legend>{{localize "sr3d.item.skill.specializations"}}</legend>
                <div class="specialization-add">
                    <input type="text" placeholder="{{localize "sr3d.item.skill.placeholder"}}"
                        class="specialization-name" />
                    <a class="add-specialization" title="{{localize 'Add Specialization'}}">
                        <i class="fas fa-square-plus"></i>
                    </a>
                </div>
                <hr />
                <div class="specializations-list">
                    {{#each system.skill.knowledgeSkill.specializations}}

                    <div class="specialization-container" data-index="{{@index}}">
                        <input type="text" name="system.skill.knowledgeSkill.specializations.[{{@index}}].name"
                            value="{{this.name}}" />
                        <label for="value-{{@index}}" class="specialization-value-label">Value:</label>
                        <input type="number" id="value-{{@index}}"
                            name="system.skill.knowledgeSkill.specializations.[{{@index}}].value" value="{{this.value}}"
                            readonly />

                        <a class="delete-specialization" title="Delete Specialization">
                            <i class="fas fa-trash-alt"></i>
                        </a>
                        <a class="use-specialization" title="Use Specialization">
                            <i class="fas fa-shopping-cart"></i>
                        </a>
                        <a class="reset-specialization" title="Reset Specialization">
                            <i class="fas fa-undo-alt"></i>
                        </a>
                    </div>


                    {{else}}
                    <p>No specializations available.</p>
                    {{/each}}
                </div>
            </fieldset>
            {{/if}}
            <!-- Language Skill Section -->
            {{#if (eq system.skillType 'languageSkill')}}
            <fieldset data-skill-type="languageSkill" data-sub-skill="speech">
                <legend>{{localize "sr3d.item.skill.languageSkill"}}</legend>
                <label>
                    {{localize "sr3d.item.skill.speech"}}
                    <input type="number" name="system.skill.languageSkill.speech.base"
                        value="{{system.skill.languageSkill.speech.base}}" />
                </label>
                <!-- Specializations Section -->
                <fieldset>
                    <legend>{{localize "sr3d.item.skill.specializations"}}</legend>
                    <div class="specialization-add">
                        <input type="text" placeholder="{{localize "sr3d.item.skill.placeholder"}}"
                            class="specialization-name" />
                        <a class="add-specialization" title="{{localize 'Add Specialization'}}">
                            <i class="fas fa-square-plus"></i>
                        </a>
                    </div>
                    <hr />
                    <div class="specializations-list">
                        {{#each system.skill.languageSkill.speech.specializations}}

                        <div class="specialization-container" data-index="{{@index}}">
                            <input type="text"
                                name="system.skill.languageSkill.speech.specializations.[{{@index}}].name"
                                value="{{this.name}}" />
                            <label for="value-{{@index}}" class="specialization-value-label">Value:</label>
                            <input type="number" id="value-{{@index}}"
                                name="system.skill.languageSkill.speech.specializations.[{{@index}}].value"
                                value="{{this.value}}" readonly />

                            <a class="delete-specialization" title="Delete Specialization">
                                <i class="fas fa-trash-alt"></i>
                            </a>
                            <a class="use-specialization" title="Use Specialization">
                                <i class="fas fa-shopping-cart"></i>
                            </a>
                            <a class="reset-specialization" title="Reset Specialization">
                                <i class="fas fa-undo-alt"></i>
                            </a>
                        </div>
                        {{else}}
                        <p>No specializations available.</p>
                        {{/each}}
                    </div>
                </fieldset>
            </fieldset>
            <fieldset data-skill-type="languageSkill" data-sub-skill="read">
                <label>
                    {{localize "sr3d.item.skill.read"}}
                    <input type="number" name="system.skill.languageSkill.read.base"
                        value="{{system.skill.languageSkill.reading.base}}" />
                </label>
                <!-- Specializations Section -->
                <fieldset>
                    <legend>{{localize "sr3d.item.skill.specializations"}}</legend>
                    <div class="specialization-add">
                        <input type="text" placeholder="{{localize "sr3d.item.skill.placeholder"}}"
                            class="specialization-name" />
                        <a class="add-specialization" title="{{localize 'Add Specialization'}}">
                            <i class="fas fa-square-plus"></i>
                        </a>
                    </div>
                    <hr />
                    <div class="specializations-list">
                        {{#each system.skill.languageSkill.read.specializations}}

                        <div class="specialization-container" data-index="{{@index}}">
                            <input type="text" name="system.skill.languageSkill.read.specializations.[{{@index}}].name"
                                value="{{this.name}}" />
                            <label for="value-{{@index}}" class="specialization-value-label">Value:</label>
                            <input type="number" id="value-{{@index}}"
                                name="system.skill.languageSkill.read.specializations.[{{@index}}].value"
                                value="{{this.value}}" readonly />

                            <a class="delete-specialization" title="Delete Specialization">
                                <i class="fas fa-trash-alt"></i>
                            </a>
                            <a class="use-specialization" title="Use Specialization">
                                <i class="fas fa-shopping-cart"></i>
                            </a>
                            <a class="reset-specialization" title="Reset Specialization">
                                <i class="fas fa-undo-alt"></i>
                            </a>
                        </div>


                        {{else}}
                        <p>No specializations available.</p>
                        {{/each}}
                    </div>
                </fieldset>
            </fieldset>
             <fieldset data-skill-type="languageSkill" data-sub-skill="write">
                <label>
                    {{localize "sr3d.item.skill.write"}}
                    <input type="number" name="system.skill.languageSkill.write.base"
                        value="{{system.skill.languageSkill.writing.base}}" />
                </label>
                <!-- Specializations Section -->
                <fieldset>
                    <legend>{{localize "sr3d.item.skill.specializations"}}</legend>
                    <div class="specialization-add">
                        <input type="text" placeholder="{{localize "sr3d.item.skill.placeholder"}}"
                            class="specialization-name" />
                        <a class="add-specialization" title="{{localize 'Add Specialization'}}">
                            <i class="fas fa-square-plus"></i>
                        </a>
                    </div>
                    <hr />
                    <div class="specializations-list">
                        {{#each system.skill.languageSkill.write.specializations}}

                        <div class="specialization-container" data-index="{{@index}}">
                            <input type="text" name="system.skill.languageSkill.write.specializations.[{{@index}}].name"
                                value="{{this.name}}" />
                            <label for="value-{{@index}}" class="specialization-value-label">Value:</label>
                            <input type="number" id="value-{{@index}}"
                                name="system.skill.languageSkill.write.specializations.[{{@index}}].value"
                                value="{{this.value}}" readonly />

                            <a class="delete-specialization" title="Delete Specialization">
                                <i class="fas fa-trash-alt"></i>
                            </a>
                            <a class="use-specialization" title="Use Specialization">
                                <i class="fas fa-shopping-cart"></i>
                            </a>
                            <a class="reset-specialization" title="Reset Specialization">
                                <i class="fas fa-undo-alt"></i>
                            </a>
                        </div>
                        {{else}}
                        <p>No specializations available.</p>
                        {{/each}}
                    </div>
                </fieldset>


            </fieldset>
            {{/if}}
    </div>
</form>